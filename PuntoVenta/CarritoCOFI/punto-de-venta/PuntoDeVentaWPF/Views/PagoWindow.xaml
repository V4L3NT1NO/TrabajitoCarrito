<Window x:Class="PuntoDeVentaWPF.Views.PagoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Proceso de Pago" Height="520" Width="720"
        Loaded="Window_Loaded">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Padding="16" CornerRadius="10" Background="#F3F5F7" Margin="0,0,0,12">
            <TextBlock x:Name="LblTotal" Text="0.00" FontSize="28" FontWeight="SemiBold" HorizontalAlignment="Center"/>
        </Border>

        <GroupBox Grid.Row="1" Header="Metodo de pago" Margin="0,0,0,12">
            <StackPanel Orientation="Horizontal" Margin="12,8">
                <RadioButton x:Name="RbEfectivo" Content="Efectivo" IsChecked="True" Margin="0,0,18,0" Checked="Metodo_Checked"/>
                <RadioButton x:Name="RbTarjeta" Content="Tarjeta (simulada)" Margin="0,0,18,0" Checked="Metodo_Checked" IsEnabled="False"/>
                <RadioButton x:Name="RbQR" Content="QR" Checked="Metodo_Checked"/>
            </StackPanel>
        </GroupBox>

        <GroupBox x:Name="GbEfectivo" Grid.Row="2" Header="Efectivo" Margin="0,0,0,12">
            <Grid Margin="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Recibido (Bs)" VerticalAlignment="Center" Margin="0,0,10,10"/>
                <TextBox x:Name="TxtRecibido" Grid.Column="1" Margin="0,0,0,10" Height="34"
                 PreviewTextInput="SoloNumero_PreviewTextInput"
                 TextChanged="TxtRecibido_TextChanged"/>
                <TextBlock Grid.Row="1" Text="Cambio (Bs)" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBox x:Name="TxtCambio" Grid.Row="1" Grid.Column="1" Height="34" IsReadOnly="True"/>
            </Grid>
        </GroupBox>

        <GroupBox x:Name="GbQr" Header="QR" Margin="0,12,0,0">
            <Grid Margin="8">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="260"/>
                </Grid.ColumnDefinitions>

                <!-- Fila 0: Botones + estado (usar Margin en lugar de Spacing) -->
                <StackPanel Orientation="Horizontal">
                    <Button x:Name="BtnGenerarQr" Content="Generar QR" Width="150"
              Click="BtnGenerarQr_Click" Margin="0,0,8,0"/>
                    <Button x:Name="BtnCopiarLink" Content="Copiar link" Width="150"
              Click="BtnCopiarLink_Click" IsEnabled="False" Margin="0,0,8,0"/>
                    <TextBlock x:Name="LblEstadoQr" Text="" VerticalAlignment="Center" Margin="12,0,0,0"/>
                </StackPanel>

                <!-- Fila 1: Link generado -->
                <TextBox x:Name="TxtLinkQr" Grid.Row="1" IsReadOnly="True" />

                <!-- Columna derecha: imagen QR -->
                <Border Grid.Row="0" Grid.RowSpan="3" Grid.Column="1"
            Background="#F8F9FB" CornerRadius="6" Padding="6" Margin="12,0,0,0">
                    <Image x:Name="ImgQr" Stretch="Uniform"/>
                </Border>
            </Grid>
        </GroupBox>



        <Grid Grid.Row="4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <CheckBox x:Name="ChkTicket" Content="Generar ticket" VerticalAlignment="Center"/>
            <Button Grid.Column="2" x:Name="BtnCancelar" Content="Cancelar" Width="120" Height="36" Margin="0,0,8,0" Click="BtnCancelar_Click"/>
            <Button Grid.Column="3" x:Name="BtnConfirmar" Content="Confirmar" Width="140" Height="36" Click="BtnConfirmar_Click"/>
        </Grid>
    </Grid>
</Window>
